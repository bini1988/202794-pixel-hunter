{"version":3,"file":"main.js","sources":["js/adapter.js","js/model.js","js/data/data.js","js/utils.js","js/models/game-adapter.js","js/models/game-model.js","js/view.js","js/footer.js","js/intro/intro-view.js","js/intro/intro.js","js/greeting/greeting-view.js","js/greeting/greeting.js","js/header.js","js/rules/rules-view.js","js/rules/rules.js","js/game/game-header.js","js/game/game-view.js","js/game/confirm-view.js","js/game/game.js","js/stats/stats-view.js","js/models/stats-adapter.js","js/stats/stats.js","js/application.js","js/main.js"],"sourcesContent":["\nexport class DefaultAdapter {\n  constructor() {\n    if (new.target === DefaultAdapter) {\n      throw new Error(`Can't be instantiated with new DefaultAdapter`);\n    }\n  }\n\n  preprocess(data) {\n    return data;\n  }\n\n  toServer(data) {\n    return data;\n  }\n}\n\nexport default new class extends DefaultAdapter {}();\n","\nimport defaultAdapter from './adapter';\n\n\nexport default class Model {\n  get urlRead() {\n    throw new Error(`Abstract method. Define the URL for model.`);\n  }\n\n  get urlWrite() {\n    throw new Error(`Abstract method. Define the URL for model.`);\n  }\n\n  load(adapter = defaultAdapter) {\n    return fetch(this.urlRead)\n      .then((response) => response.json())\n      .then(adapter.preprocess);\n  }\n\n  send(data, adapter = defaultAdapter) {\n\n    const requestSettings = {\n      body: JSON.stringify(adapter.toServer(data)),\n      headers: {'Content-Type': `application/json`},\n      method: `POST`\n    };\n\n    return fetch(this.urlWrite, requestSettings);\n  }\n}\n","\nexport const Result = Object.freeze({\n  CORRECT: `correct`,\n  WRONG: `wrong`,\n  FAST: `fast`,\n  SLOW: `slow`,\n  UNKNOWN: `unknown`\n});\n\nexport const rules = {\n  gameTime: 30,\n  warningTime: 5,\n  slowTime: 20,\n  quickTime: 10,\n  points: {\n    [Result.CORRECT]: 100,\n    [Result.WRONG]: 0,\n    [Result.FAST]: 100,\n    [Result.SLOW]: 100,\n    [Result.UNKNOWN]: 0\n  },\n  extra: [{\n    key: `fast`,\n    label: `Бонус за скорость:`,\n    points: 50,\n    count: (data) => countValue(data.stats, Result.FAST)\n  }, {\n    key: `heart`,\n    label: `Бонус за жизни:`,\n    points: 50,\n    count: (data) => data.lives\n  }, {\n    key: `slow`,\n    label: `Штраф за медлительность:`,\n    points: -50,\n    count: (data) => countValue(data.stats, Result.SLOW)\n  }],\n  maxLives: 3,\n  levelsCount: 10\n};\n\nexport const state = Object.freeze({\n  level: 0,\n  lives: rules.maxLives,\n  name: `Unknown`,\n  results: Object.freeze(new Array(rules.levelsCount).fill(Result.UNKNOWN))\n});\n\nexport const typeOptions = {\n  'two-of-two': {\n    formClass: `game__content`,\n    hasAnswers: true\n  },\n  'tinder-like': {\n    formClass: `game__content  game__content--wide`,\n    hasAnswers: true\n  },\n  'one-of-three': {\n    formClass: `game__content  game__content--triple`,\n    hasAnswers: false\n  }\n};\n\nexport function countValue(arr, value) {\n  return arr.filter((item) => item === value).length;\n}\n\nexport function getLevelResult(levelTime, levelPassed) {\n\n  let result = Result.UNKNOWN;\n\n  if (!levelPassed || levelTime < 0) {\n    result = Result.WRONG;\n  } else if (levelPassed && levelTime < rules.quickTime) {\n    result = Result.FAST;\n  } else if (levelPassed && levelTime > rules.slowTime) {\n    result = Result.SLOW;\n  } else if (levelPassed) {\n    result = Result.CORRECT;\n  } else {\n    result = Result.WRONG;\n  }\n\n  return result;\n}\n\nexport function getPoints(stats) {\n\n  return stats.reduce((sum, value) => {\n    return sum + rules.points[value];\n  }, 0);\n}\n\nexport function getExtraPoints(data) {\n\n  return rules.extra.map((item) => {\n    return {\n      key: item.key,\n      label: item.label,\n      count: item.count(data),\n      points: Math.abs(item.points),\n      total: item.count(data) * item.points\n    };\n  });\n}\n\nexport function getTotalPoints(data) {\n\n  const extraPoints = rules.extra.reduce((sum, item) => {\n    return sum + item.points * item.count(data);\n  }, 0);\n\n  return getPoints(data.stats) + extraPoints;\n}\n","\nexport function resizeImage(frame, given) {\n\n  const ratio = given.width / given.height;\n\n  const actualWidth = ((frame.width / ratio) < frame.height)\n    ? frame.width\n    : frame.height * ratio;\n\n  const actualHeight = ((frame.width / ratio) < frame.height)\n    ? frame.width / ratio\n    : frame.height;\n\n  return {\n    width: actualWidth,\n    height: actualHeight\n  };\n}\n\nexport function loadImage(src) {\n  return new Promise((resolve, reject) => {\n\n    let timeout = null;\n\n    const img = new Image();\n    const LOAD_TIMEOUT = 10000;\n\n    img.onload = () => {\n      clearTimeout(timeout);\n      resolve(img);\n    };\n\n    img.onerror = () => {\n      clearTimeout(timeout);\n      reject(new Error(`Loading of image [${src}] is aborted with error`));\n    };\n\n    timeout = setTimeout(() => {\n      clearTimeout(timeout);\n\n      img.src = ``;\n      reject(new Error(`Loading timeout of image [${src}] is expired`));\n\n    }, LOAD_TIMEOUT);\n\n    img.src = src;\n  });\n}\n","\nimport {typeOptions} from '../data/data';\nimport {loadImage} from '../utils';\nimport {DefaultAdapter} from '../adapter';\n\n\nexport default new class extends DefaultAdapter {\n\n  preprocess(data) {\n\n    const imageLoaders = [];\n\n    for (const item of data) {\n\n      item.formClass = typeOptions[item.type].formClass;\n      item.hasAnswers = typeOptions[item.type].hasAnswers;\n\n      for (const answer of item.answers) {\n\n        const loader = loadImage(answer.image.url).then((img) => {\n          answer.image.tag = img;\n        });\n\n        imageLoaders.push(loader);\n      }\n    }\n\n    return Promise.all(imageLoaders).then(() => data);\n  }\n\n  toServer(data) {\n    return data;\n  }\n}();\n","\nimport Model from '../model.js';\nimport gameAdapter from './game-adapter';\n\n\nclass GameModel extends Model {\n\n  get urlRead() {\n    return `https://intensive-ecmascript-server-btfgudlkpi.now.sh/pixel-hunter/questions`;\n  }\n\n  get urlWrite() {\n    return ``;\n  }\n\n  get levels() {\n    return this._data;\n  }\n\n  get levelsCount() {\n    return this._data.length;\n  }\n\n  getLevel(index) {\n    return this._data[index];\n  }\n\n  load(adapter = gameAdapter) {\n    return super.load(adapter)\n      .then((data) => {\n        this._data = data;\n      });\n  }\n}\n\nconst instance = new GameModel();\n\nexport default instance;\n","\nexport default class AbstractView {\n\n  get element() {\n\n    if (!this._element) {\n      this._element = this.render();\n      this.bind();\n    }\n\n    return this._element;\n  }\n\n  get template() {\n    throw new Error(`You have to define template for view`);\n  }\n\n  render() {\n\n    const screen = document.createElement(`section`);\n\n    screen.classList.add(`central`);\n    screen.insertAdjacentHTML(`afterbegin`, this.template);\n\n    return screen;\n  }\n\n  show(parentNode) {\n    parentNode.appendChild(this.element);\n  }\n\n  hide() {\n    this.element.parentNode.removeChild(this.element);\n  }\n\n  remove() {\n    this.element.parentNode.removeChild(this.element);\n  }\n\n  bind() {\n\n  }\n}\n","\nexport default () => `\\\n  <footer class=\"footer\">\n    <a href=\"https://htmlacademy.ru\" class=\"social-link social-link--academy\">HTML Academy</a>\n    <span class=\"footer__made-in\">Сделано в <a href=\"https://htmlacademy.ru\" class=\"footer__link\">HTML Academy</a> &copy; 2016</span>\n    <div class=\"footer__social-links\">\n      <a href=\"https://twitter.com/htmlacademy_ru\" class=\"social-link  social-link--tw\">Твиттер</a>\n      <a href=\"https://www.instagram.com/htmlacademy/\" class=\"social-link  social-link--ins\">Инстаграм</a>\n      <a href=\"https://www.facebook.com/htmlacademy\" class=\"social-link  social-link--fb\">Фэйсбук</a>\n      <a href=\"https://vk.com/htmlacademy\" class=\"social-link  social-link--vk\">Вконтакте</a>\n    </div>\n  </footer>`;\n","\nimport AbstractView from '../view';\nimport footer from '../footer';\n\n\nexport default class IntroView extends AbstractView {\n\n  get template() {\n    return `\\\n      <div id=\"main\" class=\"central__content\">\n        <div id=\"intro\" class=\"intro\">\n          <h1 class=\"intro__asterisk\">*</h1>\n          <p class=\"intro__motto\"><sup>*</sup> Это не фото. Это рисунок маслом нидерландского художника-фотореалиста Tjalf Sparnaay.</p>\n        </div>\n      </div>\n      ${footer()}`;\n  }\n}\n","\nimport IntroView from './intro-view';\n\n\nclass IntroPresenter {\n  constructor() {\n    this._view = new IntroView();\n  }\n\n  get element() {\n    return this._view.element;\n  }\n\n  destroy() {\n    this._view.remove();\n  }\n\n  show(viewport) {\n    this._view.show(viewport);\n  }\n}\n\nexport default () => new IntroPresenter();\n","\nimport AbstractView from '../view';\nimport footer from '../footer';\n\n\nexport default class GreetingView extends AbstractView {\n  constructor() {\n    super();\n\n    this._onContinueButtonClickHandler = this._onContinueButtonClickHandler.bind(this);\n  }\n\n  get template() {\n    return `\\\n      <div class=\"greeting\">\n        <div class=\"greeting__logo\"><img src=\"img/logo_big.png\" width=\"201\" height=\"89\" alt=\"Pixel Hunter\"></div>\n        <h1 class=\"greeting__asterisk\">*</h1>\n        <div class=\"greeting__challenge\">\n          <h3>Лучшие художники-фотореалисты бросают&nbsp;тебе&nbsp;вызов!</h3>\n          <p>Правила игры просты.<br>\n              Нужно отличить рисунок&nbsp;от фотографии и сделать выбор.<br>\n              Задача кажется тривиальной, но не думай, что все так просто.<br>\n              Фотореализм обманчив и коварен.<br>\n              Помни, \u0003главное — смотреть очень внимательно.</p>\n        </div>\n        <div class=\"greeting__continue\"><span><img src=\"img/arrow_right.svg\" width=\"64\" height=\"64\" alt=\"Next\"></span></div>\n      </div>\n      ${footer()}`;\n  }\n\n  _onContinueButtonClickHandler(evt) {\n    evt.preventDefault();\n    this.onContinueButtonClick();\n  }\n\n  remove() {\n    this._greetingContinue.removeEventListener(`click`, this._onContinueButtonClickHandler);\n    super.remove();\n  }\n\n  bind() {\n    this._greetingContinue = this.element.querySelector(`.greeting__continue`);\n\n    this._greetingContinue.addEventListener(`click`, this._onContinueButtonClickHandler);\n  }\n\n  onContinueButtonClick() {\n\n  }\n}\n","\nimport GreetingView from './greeting-view';\nimport Application from '../application';\n\n\nclass GreetingPresenter {\n  constructor() {\n    this._view = new GreetingView();\n  }\n\n  get element() {\n    return this._view.element;\n  }\n\n  destroy() {\n    this._view.onContinueButtonClick = null;\n    this._view.remove();\n  }\n\n  show(viewport) {\n\n    this._view.show(viewport);\n\n    this._view.onContinueButtonClick = () => {\n      Application.showRules();\n    };\n  }\n}\n\nexport default () => new GreetingPresenter();\n","\nexport default () => `\\\n  <header class=\"header\">\n    <div class=\"header__back\">\n      <span class=\"back\">\n        <img src=\"img/arrow_left.svg\" width=\"45\" height=\"45\" alt=\"Back\">\n        <img src=\"img/logo_small.png\" width=\"101\" height=\"44\">\n      </span>\n    </div>\n  </header>`;\n","\nimport AbstractView from '../view';\nimport {rules} from '../data/data';\nimport header from '../header';\nimport footer from '../footer';\n\n\nexport default class RulesView extends AbstractView {\n  constructor() {\n    super();\n\n    this._onInputChangeHandler = this._onInputChangeHandler.bind(this);\n    this._onContinueButtonClickHandler = this._onContinueButtonClickHandler.bind(this);\n    this._onBackButtonClickHandler = this._onBackButtonClickHandler.bind(this);\n  }\n\n  get template() {\n    return `\\\n      ${header()}\n      <div class=\"rules\">\n        <h1 class=\"rules__title\">Правила</h1>\n        <p class=\"rules__description\">Угадай ${rules.levelsCount} раз для каждого изображения фото <img\n          src=\"img/photo_icon.png\" width=\"16\" height=\"16\"> или рисунок <img\n          src=\"img/paint_icon.png\" width=\"16\" height=\"16\" alt=\"\">.<br>\n          Фотографиями или рисунками могут быть оба изображения.<br>\n          На каждую попытку отводится ${rules.gameTime} секунд.<br>\n          Ошибиться можно не более ${rules.maxLives} раз.<br>\n          <br>\n          Готовы?\n        </p>\n        <form class=\"rules__form\">\n          <input class=\"rules__input\" type=\"text\" placeholder=\"Ваше Имя\">\n          <button class=\"rules__button  continue\" type=\"submit\" disabled>Go!</button>\n        </form>\n      </div>\n      ${footer()}`;\n  }\n\n  _getUserName() {\n    return this._rulesInput.value.replace(/[#//]/g, ``).trim();\n  }\n\n  _onInputChangeHandler() {\n    this._rulesButton.disabled = (this._getUserName().length === 0);\n  }\n\n  _onContinueButtonClickHandler(evt) {\n    evt.preventDefault();\n\n    this._rulesInput.disabled = true;\n    this._rulesButton.disabled = true;\n\n    this.onContinueButtonClick(this._getUserName());\n  }\n\n  _onBackButtonClickHandler(evt) {\n    evt.preventDefault();\n    this.onBackButtonClick();\n  }\n\n  remove() {\n    this._rulesInput.removeEventListener(`input`, this._onInputChangeHandler);\n    this._rulesForm.removeEventListener(`submit`, this._onContinueButtonClickHandler);\n    this._backButton.removeEventListener(`click`, this._onBackButtonClickHandler);\n    super.remove();\n  }\n\n  bind() {\n\n    this._backButton = this.element.querySelector(`.header__back`);\n    this._rulesForm = this.element.querySelector(`.rules__form`);\n\n    this._rulesInput = this._rulesForm.querySelector(`.rules__input`);\n    this._rulesButton = this._rulesForm.querySelector(`.rules__button`);\n\n    this._rulesInput.addEventListener(`input`, this._onInputChangeHandler);\n    this._rulesForm.addEventListener(`submit`, this._onContinueButtonClickHandler);\n    this._backButton.addEventListener(`click`, this._onBackButtonClickHandler);\n  }\n\n  onContinueButtonClick(userName) {\n\n  }\n\n  onBackButtonClick() {\n\n  }\n}\n","\nimport RulesView from './rules-view';\nimport Application from '../application';\n\n\nclass RulesPresenter {\n  constructor() {\n    this._view = new RulesView();\n  }\n\n  get element() {\n    return this._view.element;\n  }\n\n  destroy() {\n    this._view.onContinueButtonClick = null;\n    this._view.onBackButtonClick = null;\n    this._view.remove();\n  }\n\n  show(viewport) {\n\n    this._view.show(viewport);\n\n    this._view.onContinueButtonClick = (userName) => {\n      Application.showGame({name: userName});\n    };\n\n    this._view.onBackButtonClick = () => {\n      Application.showGreeting();\n    };\n  }\n}\n\nexport default () => new RulesPresenter();\n","\nimport {rules} from '../data/data';\n\n\nexport default (state) => `\\\n  <header class=\"header\">\n    <div class=\"header__back\">\n      <span class=\"back\">\n        <img src=\"img/arrow_left.svg\" width=\"45\" height=\"45\" alt=\"Back\">\n        <img src=\"img/logo_small.png\" width=\"101\" height=\"44\">\n      </span>\n    </div>\n    <h1 class=\"game__timer\">${rules.gameTime}</h1>\n    <div class=\"game__lives\">\n      ${new Array(rules.maxLives - state.lives)\n        .fill(`<img src=\"img/heart__empty.svg\" class=\"game__heart\" alt=\"Life\" width=\"32\" height=\"32\">`)\n        .join(``)}\n      ${new Array(state.lives)\n        .fill(`<img src=\"img/heart__full.svg\" class=\"game__heart\" alt=\"Life\" width=\"32\" height=\"32\">`)\n        .join(``)}\n    </div>\n  </header>`;\n","\nimport AbstractView from '../view';\nimport {resizeImage} from '../utils';\nimport {rules} from '../data/data';\nimport header from './game-header';\nimport footer from '../footer';\n\n\nexport default class GameView extends AbstractView {\n\n  constructor(state, data) {\n    super();\n\n    this._state = state;\n\n    this._question = data.question;\n    this._answers = data.answers;\n    this._formClass = data.formClass;\n    this._hasAnswers = data.hasAnswers;\n\n    this._onAnswerChangeHandler = this._onAnswerChangeHandler.bind(this);\n    this._onOptionClickHandler = this._onOptionClickHandler.bind(this);\n    this._onBackButtonClickHandler = this._onBackButtonClickHandler.bind(this);\n  }\n\n\n  get template() {\n    return `\\\n      ${header(this._state)}\n      <div class=\"game\">\n        <p class=\"game__task\">${this._question}</p>\n        <form class=\"${this._formClass}\">\n          ${this._answers.map((answer, index) => {\n            return this._templateOption(index);\n          }).join(``)}\n        </form>\n        <div class=\"stats\">\n          <ul class=\"stats\">\n            ${this._state.results.map((result) => {\n              return `<li class=\"stats__result stats__result--${result}\"></li>`;\n            }).join(``)}\n          </ul>\n        </div>\n      </div>\n      ${footer()}`;\n  }\n\n  get gameTime() {\n    return parseInt(this._gameTimer.textContent, 10);\n  }\n\n  set gameTime(time) {\n\n    const isWarningTime = (time <= rules.warningTime);\n\n    this._gameTimer.textContent = time;\n    this._gameTimer.classList.toggle(`game__timer--blink`, isWarningTime);\n  }\n\n  _isAnswered() {\n    return this._questions.every((question) => {\n      return question.some((item) => item.checked);\n    });\n  }\n\n  _getAnswers() {\n    return this._questions.map((question) => {\n      return question.find((item) => item.checked).value;\n    });\n  }\n\n  _getChoice(optionIndex) {\n    return this._answers[optionIndex].type;\n  }\n\n  _setOptionImage(option, optionIndex) {\n\n    const image = this._answers[optionIndex].image;\n    const frame = {width: image.width, height: image.height};\n\n    const actualSize = resizeImage(frame, {\n      width: image.tag.naturalWidth,\n      height: image.tag.naturalHeight\n    });\n\n    image.tag.width = actualSize.width;\n    image.tag.height = actualSize.height;\n    image.tag.alt = `Option ${optionIndex + 1}`;\n\n    const tag = option.querySelector(`img`);\n    tag.parentNode.replaceChild(image.tag, tag);\n  }\n\n  _addAnswerChangeHandlers() {\n    for (const question of this._questions) {\n      for (const element of question) {\n        element.addEventListener(`change`, this._onAnswerChangeHandler);\n      }\n    }\n  }\n\n  _removeAnswerChangeHandlers() {\n    for (const question of this._questions) {\n      for (const element of question) {\n        element.removeEventListener(`change`, this._onAnswerChangeHandler);\n      }\n    }\n  }\n\n  _templateAnswer(index) {\n    return `\\\n      <label class=\"game__answer game__answer--photo\">\n        <input name=\"question${index}\" type=\"radio\" value=\"photo\">\n        <span>Фото</span>\n      </label>\n      <label class=\"game__answer game__answer--paint\">\n        <input name=\"question${index}\" type=\"radio\" value=\"painting\">\n        <span>Рисунок</span>\n      </label>`;\n  }\n\n  _templateOption(index) {\n    return `\\\n      <div class=\"game__option\">\n        <img>\n        ${(this._hasAnswers) ? this._templateAnswer(index + 1) : ``}\n      </div>`;\n  }\n\n  _onAnswerChangeHandler(evt) {\n\n    const name = evt.currentTarget.name;\n    const answers = this._gameContent.elements[name];\n\n    for (const answer of answers) {\n      answer.disabled = true;\n    }\n  }\n\n  _onOptionClickHandler(evt) {\n\n    if (this._hasAnswers && this._isAnswered()) {\n      this.onAnswered(this.gameTime, this._getAnswers());\n    }\n\n    if (!this._hasAnswers) {\n\n      const index = Array.from(this._gameOptions).indexOf(evt.currentTarget);\n\n      this.onChosen(this.gameTime, this._getChoice(index));\n    }\n  }\n\n  _onBackButtonClickHandler(evt) {\n    evt.preventDefault();\n    this.onBackButtonClick();\n  }\n\n  remove() {\n\n    if (this._hasAnswers) {\n      this._removeAnswerChangeHandlers();\n    }\n\n    for (const option of this._gameOptions) {\n      option.removeEventListener(`click`, this._onOptionClickHandler);\n    }\n\n    this._backButton.removeEventListener(`click`, this._onBackButtonClickHandler);\n\n    super.remove();\n  }\n\n  bind() {\n\n    this._backButton = this.element.querySelector(`.header__back`);\n    this._gameTimer = this.element.querySelector(`.game__timer`);\n    this._gameContent = this.element.querySelector(`.game__content`);\n    this._gameOptions = this._gameContent.querySelectorAll(`.game__option`);\n\n    this._questions = this._answers.map((answer, index) => {\n      return Array.from(this._gameContent.elements[`question${index + 1}`] || []);\n    });\n\n\n    let optionIndex = 0;\n\n    for (const option of this._gameOptions) {\n\n      const index = optionIndex++;\n\n      this._setOptionImage(option, index);\n\n      if (this._hasAnswers) {\n        this._addAnswerChangeHandlers();\n      }\n\n      option.addEventListener(`click`, this._onOptionClickHandler, true);\n    }\n\n    this._backButton.addEventListener(`click`, this._onBackButtonClickHandler);\n  }\n\n  onAnswered(time, answers) {\n\n  }\n\n  onChosen(time, answer) {\n\n  }\n\n  onBackButtonClick() {\n\n  }\n}\n","\nimport AbstractView from '../view';\nimport footer from '../footer';\n\n\nexport default class ConfirmView extends AbstractView {\n  constructor() {\n    super();\n\n    this._onConfirmFormClickHandler = this._onConfirmFormClickHandler.bind(this);\n  }\n\n  get template() {\n    return `\\\n      <div class=\"confirm\">\n        <div class=\"confirm__logo\"><img src=\"img/logo_big.png\" width=\"201\" height=\"89\" alt=\"Pixel Hunter\"></div>\n        <h1 class=\"confirm__asterisk\">*</h1>\n        <div class=\"confirm__challenge\">\n          <h3>Вы действительно хотите завершить игру?</h3>\n          <p>Покинув игру сейчас, вы потеряете результаты<br>\n            всех пройденных уровней!</p>\n        </div>\n        <form class=\"confirm__form\">\n          <button class=\"confirm__button  confirm__button--ok\" type=\"button\">Покинуть игру...</button>\n          <button class=\"confirm__button  confirm__button--cancel\" type=\"button\">Продолжить игру!</button>\n        </form>\n      </div>\n      ${footer()}`;\n  }\n\n  _onConfirmFormClickHandler(evt) {\n    evt.preventDefault();\n    this.onConfirm(evt.target.classList.contains(`confirm__button--ok`));\n  }\n\n  remove() {\n    this._confirmForm.removeEventListener(`click`, this._onConfirmFormClickHandler);\n    super.remove();\n  }\n\n  bind() {\n    this._confirmForm = this.element.querySelector(`.confirm__form`);\n\n    this._confirmForm.addEventListener(`click`, this._onConfirmFormClickHandler);\n  }\n\n  onConfirm(result) {\n\n  }\n}\n","\nimport gameModel from '../models/game-model';\nimport {Result} from '../data/data';\nimport {getLevelResult} from '../data/data';\nimport {state as initState} from '../data/data';\nimport {rules} from '../data/data';\nimport GameView from './game-view';\nimport ConfirmView from './confirm-view';\nimport Application from '../application';\n\n\nclass GamePresenter {\n  constructor(userName) {\n\n    this.TIMER_DELAY = 1000;\n\n    this._state = Object.assign({}, initState, {\n      name: userName,\n      results: initState.results.slice()\n    });\n\n    this._gameTimer = null;\n\n    this._level = gameModel.getLevel(this._state.level);\n\n    this._viewGame = new GameView(this._state, this._level);\n\n    this._viewConfirm = new ConfirmView();\n\n    this._onTimeTickHandler = this._onTimeTickHandler.bind(this);\n  }\n\n  get element() {\n    return this._viewGame.element;\n  }\n\n  destroy() {\n    clearInterval(this._gameTimer);\n\n    this._viewGame.onAnswered = null;\n    this._viewGame.onChosen = null;\n    this._viewGame.onBackButtonClick = null;\n    this._viewConfirm.onConfirm = null;\n    this._viewGame.remove();\n  }\n\n  show(viewport = this._viewport) {\n\n    this._viewport = viewport;\n\n    this._viewGame.show(viewport);\n\n    this._viewGame.onAnswered = (time, answers) => {\n      this._endGame(rules.gameTime - time, this._isQuestionsAnswerRight(answers));\n    };\n\n    this._viewGame.onChosen = (time, answer) => {\n      this._endGame(rules.gameTime - time, this._isChoosenAnswerRight(answer));\n    };\n\n    this._viewGame.onBackButtonClick = () => {\n      clearInterval(this._gameTimer);\n\n      this._viewGame.hide();\n      this._viewConfirm.show(this._viewport);\n    };\n\n    this._viewConfirm.onConfirm = (result) => {\n\n      this._viewConfirm.hide();\n      this._viewGame.show(viewport);\n\n      if (result) {\n        Application.showGreeting();\n      } else {\n        this._gameTimer = setInterval(this._onTimeTickHandler, this.TIMER_DELAY);\n      }\n    };\n\n    this._startGame();\n  }\n\n  _onTimeTickHandler() {\n\n    if (this._viewGame.gameTime <= 0) {\n      this._endGame();\n    } else {\n      this._viewGame.gameTime = this._viewGame.gameTime - 1;\n    }\n  }\n\n  _startGame() {\n\n    this._viewGame.gameTime = rules.gameTime - 1;\n\n    this._gameTimer = setInterval(this._onTimeTickHandler, this.TIMER_DELAY);\n  }\n\n  _endGame(time = 0, passed = false) {\n\n    clearInterval(this._gameTimer);\n\n    const result = getLevelResult(time, passed);\n\n    this._state.lives = (result === Result.WRONG)\n        ? this._state.lives - 1\n        : this._state.lives;\n\n    this._state.results[this._state.level] = result;\n\n    this._nextGame();\n  }\n\n  _nextGame() {\n\n    if ((this._state.lives > 0) && ((this._state.level + 1) < gameModel.levelsCount)) {\n\n      this._level = gameModel.getLevel(++this._state.level);\n\n      this.destroy();\n\n      this._viewGame = new GameView(this._state, this._level);\n\n      this.show();\n\n    } else {\n\n      const name = this._state.name;\n      const lives = this._state.lives;\n      const results = this._state.results;\n\n      Application.showStats({name, lives, results});\n    }\n  }\n\n  _isQuestionsAnswerRight(answers) {\n    return answers.map((answer, index) => {\n      return answer === this._level.answers[index].type;\n    }).every((answer) => answer);\n  }\n\n  _isChoosenAnswerRight(answer) {\n\n    const isShouldChoosePhoto = this._level.answers.filter((item) => {\n      return item.type === `photo`;\n    }).length === 1;\n\n    return answer === ((isShouldChoosePhoto) ? `photo` : `painting`);\n  }\n}\n\nexport default (args = {name: `Unknown`}) => new GamePresenter(args.name);\n","\nimport AbstractView from '../view';\nimport {rules} from '../data/data';\nimport {getPoints} from '../data/data';\nimport {getExtraPoints} from '../data/data';\nimport {getTotalPoints} from '../data/data';\nimport header from '../header';\nimport footer from '../footer';\n\n\nexport default class StatsView extends AbstractView {\n\n  constructor(data) {\n    super();\n\n    this._data = data;\n    this.CURRENT_USER_ID = 0;\n\n    this._onBackButtonClickHandler = this._onBackButtonClickHandler.bind(this);\n  }\n\n  get template() {\n    return `\\\n      ${header()}\n      <div class=\"result\">\n        <h1>${this._isGameFailed(this.CURRENT_USER_ID) ? `Fail` : `Победа!`}</h1>\n        ${this._data.map((item, index) => {\n          return this._templateStatsItem(item, index);\n        }).join(``)}\n      </div>\n      ${footer()}`;\n  }\n\n  _isGameFailed(userID) {\n    return (this._data[userID].lives === 0);\n  }\n\n  _templateExtra(extra) {\n    return (extra.count === 0) ? `` : `\\\n      <tr>\n        <td></td>\n        <td class=\"result__extra\">${extra.label}</td>\n        <td class=\"result__extra\">${extra.count}&nbsp;<span class=\"stats__result stats__result--${extra.key}\"></span></td>\n        <td class=\"result__points\">×&nbsp;${extra.points}</td>\n        <td class=\"result__total\">${extra.total}</td>\n      </tr>`;\n  }\n\n  _templateStatsItem(data, index) {\n\n    let templateTableStat = ``;\n    let templateTableExtra = ``;\n\n    if (this._isGameFailed(index)) {\n\n      templateTableStat = `\\\n        <td class=\"result__total\"></td>\n        <td class=\"result__total  result__total--final\">fail</td>`;\n    } else {\n\n      templateTableStat = `\\\n        <td class=\"result__points\">×&nbsp;${rules.points.correct}</td>\n        <td class=\"result__total\">${getPoints(data.stats)}</td>`;\n\n      templateTableExtra = `\\\n        ${getExtraPoints(data).map((item) => this._templateExtra(item)).join(``)}\n        <tr>\n          <td colspan=\"5\" class=\"result__total  result__total--final\">${getTotalPoints(data)}</td>\n        </tr>`;\n    }\n\n    return `\\\n      <table class=\"result__table\">\n        <tr>\n          <td class=\"result__number\">${index + 1}.</td>\n          <td colspan=\"2\">\n            <ul class=\"stats\">\n              ${data.stats.map((result) => {\n                return `<li class=\"stats__result stats__result--${result}\"></li>`;\n              }).join(``)}\n            </ul>\n          </td>\n          ${templateTableStat}\n        </tr>\n        ${templateTableExtra}\n      </table>`;\n  }\n\n  _onBackButtonClickHandler(evt) {\n    evt.preventDefault();\n    this.onBackButtonClick();\n  }\n\n  remove() {\n\n    this._backButton.removeEventListener(`click`, this._onBackButtonClickHandler);\n\n    super.remove();\n  }\n\n  bind() {\n\n    this._backButton = this.element.querySelector(`.header__back`);\n\n    this._backButton.addEventListener(`click`, this._onBackButtonClickHandler);\n  }\n\n  onBackButtonClick() {\n\n  }\n}\n","\nimport {DefaultAdapter} from '../adapter';\n\n\nexport default new class extends DefaultAdapter {\n\n  preprocess(data) {\n\n    const dateDesc = (first, second) => (second.date - first.date);\n\n    return data.sort(dateDesc).map((item) => {\n      return {stats: item.stats, lives: parseInt(item.lives, 10)};\n    });\n  }\n\n}();\n","\nimport IntroView from '../intro/intro-view';\nimport StatsView from './stats-view';\nimport Application from '../application';\nimport Model from '../model.js';\nimport statsAdapter from '../models/stats-adapter';\n\n\nclass StatsPresenter {\n  constructor(userName, lives, results) {\n\n    this._lives = lives;\n    this._results = results;\n\n    this._view = new IntroView();\n\n    this._model = new class extends Model {\n      constructor(name) {\n        super();\n\n        this._username = name;\n      }\n\n      get urlRead() {\n        return `https://intensive-ecmascript-server-btfgudlkpi.now.sh/pixel-hunter/stats/${this._username}`;\n      }\n\n      get urlWrite() {\n        return `https://intensive-ecmascript-server-btfgudlkpi.now.sh/pixel-hunter/stats/${this._username}`;\n      }\n    }(userName);\n  }\n\n  get element() {\n    return this._view.element;\n  }\n\n  destroy() {\n    this._view.onBackButtonClick = null;\n    this._view.remove();\n  }\n\n  show(viewport) {\n\n    this._view.show(viewport);\n\n    this._model.send({stats: this._results, lives: this._lives}, statsAdapter).then(() => {\n\n      this._model.load(statsAdapter).then((data) => {\n\n        this._view.remove();\n\n        this._view = new StatsView(data);\n\n        this._view.show(viewport);\n\n        this._view.onBackButtonClick = () => {\n          Application.showGreeting();\n        };\n\n      }).catch(window.console.error);\n\n    }).catch(window.console.error);\n  }\n}\n\nexport default (args = {name: `Unknown`, lives: 0, results: ``}) => {\n  return new StatsPresenter(args.name, args.lives, args.results.split(`,`));\n};\n","\nimport gameModel from './models/game-model';\nimport introPresenter from './intro/intro';\nimport greetingPresenter from './greeting/greeting';\nimport rulesPresenter from './rules/rules';\nimport gamePresenter from './game/game';\nimport statsPresenter from './stats/stats';\n\n\nconst PresenterID = {\n  GREETING: ``,\n  RULES: `rules`,\n  GAME: `game`,\n  STATS: `stats`\n};\n\n\nclass Application {\n  constructor() {\n\n    this._viewport = document.getElementById(`main`);\n\n    this._presenter = introPresenter();\n\n    this._routes = {\n      [PresenterID.GREETING]: greetingPresenter,\n      [PresenterID.RULES]: rulesPresenter,\n      [PresenterID.GAME]: gamePresenter,\n      [PresenterID.STATS]: statsPresenter,\n    };\n\n    this._render = {\n      [PresenterID.GREETING]: this._renderFadeAnimationScreen,\n      [PresenterID.RULES]: this._renderScreen,\n      [PresenterID.GAME]: this._renderScreen,\n      [PresenterID.STATS]: this._renderScreen,\n    };\n\n    window.onhashchange = () => {\n      this._changePresenter(this._parseLocationHash());\n    };\n\n    gameModel.load()\n      .then(() => this._changePresenter(this._parseLocationHash()))\n      .catch(window.console.error);\n  }\n\n  _parseLocationHash() {\n\n    const hashArgs = location.hash.replace(`#`, ``).split(`?`);\n    const route = hashArgs[0] || ``;\n    const params = (hashArgs[1] && hashArgs[1].split(`&`)) || [];\n\n    const args = params.reduce((obj, param) => {\n\n      const arg = param.split(`=`);\n      const argKey = arg[0] || ``;\n      const argValue = arg[1] || ``;\n\n      obj[argKey] = argValue;\n\n      return obj;\n    }, {});\n\n    return {route, args};\n  }\n\n  _setLocationHash(hash) {\n\n    const route = (hash && hash.route) || ``;\n\n    const args = hash && hash.args && Object.keys(hash.args).map((key) => {\n      return `${key}=${hash.args[key]}`;\n    }).join(`&`);\n\n    location.hash = `${route}${(route && args) ? `?${args}` : ``}`;\n  }\n\n  _changePresenter(hash) {\n\n    const newPresenter = this._routes[hash.route](hash.args);\n    const renderFunction = this._render[hash.route];\n\n    renderFunction(this._presenter, newPresenter, this._viewport);\n\n    this._presenter = newPresenter;\n  }\n\n  _renderScreen(oldPresenter, newPresenter, viewport) {\n    newPresenter.show(viewport);\n    oldPresenter.destroy();\n  }\n\n  _renderFadeAnimationScreen(oldPresenter, newPresenter, viewport) {\n\n    viewport.classList.add(`main--stack-screens`);\n\n    const onElementAnimationEnd = () => {\n\n      viewport.classList.remove(`main--animate-screens`);\n      viewport.classList.remove(`main--stack-screens`);\n\n      oldPresenter.element.removeEventListener(`animationend`, onElementAnimationEnd);\n\n      oldPresenter.destroy();\n    };\n\n    oldPresenter.element.addEventListener(`animationend`, onElementAnimationEnd);\n\n    newPresenter.show(viewport);\n\n    viewport.classList.add(`main--animate-screens`);\n  }\n\n  init() {\n    this._presenter.show(this._viewport);\n  }\n\n  showGreeting() {\n    this._setLocationHash({route: PresenterID.GREETING});\n  }\n\n  showRules() {\n    this._setLocationHash({route: PresenterID.RULES});\n  }\n\n  showGame(args) {\n    this._setLocationHash({route: PresenterID.GAME, args});\n  }\n\n  showStats(args) {\n    this._setLocationHash({route: PresenterID.STATS, args});\n  }\n}\n\nconst instance = new Application();\n\nexport default instance;\n","\nimport Application from './application';\n\n\nApplication.init();\n"],"names":["instance","Application","state","header","initState","gameModel"],"mappings":"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"}